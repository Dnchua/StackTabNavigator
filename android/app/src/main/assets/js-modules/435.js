__d(function(e,r,t,n){"use strict";function a(e,r){U[e]=r}function i(e,r){return e[D]=!0,q=w("create_session",{refreshAccessToken:b(void 0,e)},r),R=r,q}function u(e){return e&&(e=e.map(function(e){return b(null,e)})),w("create_realm",{arguments:e})}function s(e){e=e.map(function(e){return b(null,e)});var r=w("create_user",{arguments:e});return T(void 0,r)}function o(e){e=e.map(function(e){return b(null,e)});var r=w("_adminUser",{arguments:e});return T(void 0,r)}function l(e){e=e.map(function(e){return b(null,e)});var r=w("_getExistingUser",{arguments:e});return T(void 0,r)}function c(e){w("reconnect",{arguments:[]})}function f(e){e=e.map(function(e){return b(null,e)}),w("_initializeSyncManager",{arguments:e})}function p(e){return T(void 0,w("_hasExistingSessions",{arguments:[]}))}function v(e,r,t,n){n&&(n=n.map(function(r){return b(e,r)}));var a=w("call_method",{realmId:e,id:r,name:t,arguments:n});return T(e,a)}function d(e,r,t){var n=w("get_property",{realmId:e,id:r,name:t});return T(e,n)}function y(e,r,t,n){n=b(e,n),w("set_property",{realmId:e,id:r,name:t,value:n})}function _(){var e=w("get_all_users");return T(void 0,e)}function m(){w("clear_test_state"),O=O.filter(function(e){return Reflect.has(e,D)})}function g(e){var r=O.indexOf(e);return r>=0?r:O.push(e)-1}function b(e,r){if("undefined"==typeof r)return{type:I.objectTypes.UNDEFINED};if("function"==typeof r)return{type:I.objectTypes.FUNCTION,value:g(r)};if(!r||"object"!=typeof r)return{value:r};var t=r[M];if(t)return{id:t};if(r instanceof Date)return{type:I.objectTypes.DATE,value:r.getTime()};if(Array.isArray(r)){var n=r.map(function(r){return b(e,r)});return{value:n}}if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))return{type:I.objectTypes.DATA,value:j.encode(r)};var a=Object.keys(r),i=a.map(function(t){return b(e,r[t])});return{type:I.objectTypes.DICT,keys:a,values:i}}function T(e,r){var t=r.type,n=t&&U[t];if(n)return n(e,r);var a=r.value;return a&&Array.isArray(a)?a.map(function(r){return T(e,r)}):a}function k(e,r){for(var t=r.keys,n=r.values,a={},i=0,u=t.length;i<u;i++)a[t[i]]=T(e,n[i]);return a}function h(e,r){return O[r.value]}function A(r,t){var n=void 0,a=void 0;if(e.__debug__){var i=e.__debug__.require("sync-request"),u=i("POST",r,{body:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}});n=u.statusCode,a=u.body.toString("utf-8")}else{var s=JSON.stringify(t),o=new N;o.open("POST",r,!1),o.send(s),n=o.status,a=o.responseText}if(200!=n)throw new Error(a);return JSON.parse(a)}function S(e){for(var r={},t=0;t<e.keys.length;t++){var n=e.keys[t],a=e.values[t];a.type&&"dict"==a.type?r[n]=S(a):r[n]=a.value}return r}function w(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;clearTimeout(C);try{if(!t)throw new Error("Must first create RPC session with a valid host");r=babelHelpers.extends({},r,q?{sessionId:q}:null);var n="http://"+t+"/"+e,a=A(n,r);if(!a||a.error){var i=a&&a.error;if(i&&i.replace)i=i.replace(/^[a-z]+: /i,"");else if(i.type&&"dict"===i.type){var u=S(i),s=void 0;a.message&&""!==a.message&&(s=a.message.replace(/^[a-z]+: /i,""));var o=new Error(s);throw babelHelpers.extends(o,u),o}throw new Error(i||'Invalid response for "'+e+'"')}var l=a.callback;if(null!=l){var c=void 0,f=void 0,p=void 0;try{var v=r.realmId,d=T(v,a.this),y=T(v,a.arguments),_=O[l];_?c=b(v,_.apply(d,y)):f="Unknown callback id: "+l}catch(e){f=e.message||""+e,e.stack&&(p=JSON.stringify(e.stack))}var m="callback_result";return"callbacks_poll"!==e&&"callback_poll_result"!==e||(m="callback_poll_result"),w(m,{callback:l,result:c,error:f,stack:p,callback_call_counter:a.callback_call_counter})}return a.result}finally{C=setTimeout(function(){return w("callbacks_poll")},100)}}Object.defineProperty(n,"__esModule",{value:!0}),n.registerTypeConverter=a,n.createSession=i,n.createRealm=u,n.createUser=s,n._adminUser=o,n._getExistingUser=l,n.reconnect=c,n._initializeSyncManager=f,n.hasExistingSessions=p,n.callMethod=v,n.getProperty=d,n.setProperty=y,n.getAllUsers=_,n.clearTestState=m,n.deserialize=T;var E=r(436),j=babelHelpers.interopRequireWildcard(E),I=r(432),M=I.keys.id,O=(I.keys.realm,[]),U={},D=Symbol("persistentCallback"),N=e.originalXMLHttpRequest||e.XMLHttpRequest,R=void 0,q=void 0;if(N.__proto__!=e.XMLHttpRequestEventTarget){var x=N;delete e.XMLHttpRequest,N=e.XMLHttpRequest,e.XMLHttpRequest=x}a(I.objectTypes.DATA,function(e,r){var t=r.value;return j.decode(t)}),a(I.objectTypes.DATE,function(e,r){var t=r.value;return new Date(t)}),a(I.objectTypes.DICT,k),a(I.objectTypes.FUNCTION,h);var C=void 0},435);