__d(function(e,t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var r=t(47),a=babelHelpers.interopRequireDefault(r),i=t(12),l=t(147),s=l.get("window"),c=s.width,d=function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onchangeName=function(e){n.setState({id:e})},n.onchangePsw=function(e){n.setState({psw:e})},n.login=function(){var e=n.state,t=e.id,o=e.psw,r="http://47.106.245.58:15515/signin";postData={id:t,password:o};var a=new Headers;a.append("Content-Type","application/json");var l={method:"POST",body:JSON.stringify(postData),headers:a};fetch(r,l).then(function(e){return e.json()}).then(function(e){var t=e.state;1===t&&(i.ToastAndroid.show("\u767b\u9646\u6210\u529f,\u4e09\u79d2\u540e\u8df3\u8f6c\u5230\u4e2a\u4eba\u754c\u9762",i.ToastAndroid.SHORT),i.AsyncStorage.setItem("id",n.state.id),i.DeviceEventEmitter.emit("login",n.state.id),setTimeout(function(){n.props.navigation.goBack()},3e3)),3===t&&i.ToastAndroid.show("\u8bf7\u68c0\u67e5\u8d26\u53f7\u5bc6\u7801\u662f\u5426\u6709\u8bef",i.ToastAndroid.SHORT)}).catch(function(e){e&&(console.log("error",e),i.ToastAndroid.show("\u7f51\u7edc\u9519\u8bef",i.ToastAndroid.SHORT))})},n.state={id:"",psw:""},n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return a.default.createElement(i.View,{style:u.container},a.default.createElement(i.TextInput,{style:u.textInput,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",underlineColorAndroid:"transparent",onChangeText:this.onchangeName}),a.default.createElement(i.TextInput,{style:u.textInput,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",secureTextEntry:!0,underlineColorAndroid:"transparent",onChangeText:this.onchangePsw}),a.default.createElement(i.TouchableOpacity,{style:u.btnStyle,onPress:this.login},a.default.createElement(i.Text,{style:u.loginText},"\u767b\u5f55")),a.default.createElement(i.View,{style:u.canNot},a.default.createElement(i.Text,{style:{color:"#4398ff"}},"\u65e0\u6cd5\u767b\u5f55"),a.default.createElement(i.Text,{style:{color:"#4398ff"}},"\u65b0\u7528\u6237")))}}]),t}(r.Component);d.navigationOptions=function(e){e.navigation,e.screenProps;return{headerTitle:"\u767b\u9646/\u6ce8\u518c",gestureResponseDistance:{horizontal:300},headerBackTitle:null,headerStyle:u.headerStyle,headerTitleStyle:u.headerTitleStyle,headerTintColor:"white",headerRight:a.default.createElement(i.View,null)}},o.default=d;var u=i.StyleSheet.create({container:{flex:1,flexDirection:"column",alignItems:"center",backgroundColor:"#F5FCFF"},button:{width:240,height:45,borderRadius:5,alignItems:"center",justifyContent:"center",backgroundColor:"#4398ff"},headerStyle:{backgroundColor:"#EB3695"},headerTitleStyle:{color:"white",fontSize:18,alignSelf:"center"},textInput:{height:40,width:c,marginBottom:5,backgroundColor:"white",textAlign:"center"},btnStyle:{height:40,width:c-32,borderRadius:5,marginTop:20,backgroundColor:"#4398ff",justifyContent:"center"},canNot:{width:c-32,marginTop:15,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},loginText:{textAlign:"center",color:"white",textAlignVertical:"center"}})},419);